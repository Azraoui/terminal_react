{"ast":null,"code":"import _slicedToArray from\"/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from\"react\";import{CloseIcon,PlusIcon}from\"./Icons\";import{ResourcesContext}from\"../App\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TabsContext=/*#__PURE__*/React.createContext();export default function Tabs(_ref){var tabsResource=_ref.tabsResource,clickTabIndex=_ref.clickTabIndex,setClickTabIndex=_ref.setClickTabIndex;var resourceContext=React.useContext(ResourcesContext);var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),addTab=_React$useState2[0],setAddTab=_React$useState2[1];return/*#__PURE__*/_jsx(TabsContext.Provider,{value:{numberOfchildren:0,clickTabIndex:clickTabIndex,setClickTabIndex:setClickTabIndex},children:/*#__PURE__*/_jsxs(\"div\",{className:\" w-full flex flex-col gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center lg:max-w-[47rem]  2xl:max-w-[79rem] overflow-auto\",children:[/*#__PURE__*/_jsx(TabList,{children:tabsResource.map(function(tab,index){return/*#__PURE__*/_jsxs(Tab,{tabsResource:tabsResource,tab:tab,addTab:addTab&&index===tabsResource.length-1?true:false,setAddTab:setAddTab,children:[tab.name,\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold\",children:[\"0\",index+1]})]},index);})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){e.stopPropagation();var newResources=resourceContext.dataResources.map(function(resource){if(resource.id===resourceContext.currentResource)resource.tabs.push({id:resource.tabs.length+1,name:\"Terminal\",linkIframe:resource.linkIframe});return resource;});resourceContext.setDataResources(newResources);localStorage.setItem('dataResources',JSON.stringify(newResources));setAddTab(true);},children:/*#__PURE__*/_jsx(PlusIcon,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(TabPanels,{children:tabsResource.map(function(tab,index){return/*#__PURE__*/_jsx(TabPanel,{children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-black rounded-md h-[30rem] text-white p-2\",children:/*#__PURE__*/_jsx(\"iframe\",{className:\"h-full w-full\",src:tab.linkIframe,frameborder:\"0\",title:\"6587\"})})},index);})})]})});}export function TabList(_ref2){var children=_ref2.children;return/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-1\",children:children});}function Tab(_ref3){var children=_ref3.children,tabsResource=_ref3.tabsResource,tab=_ref3.tab,addTab=_ref3.addTab,setAddTab=_ref3.setAddTab;var context=React.useContext(TabsContext);var resourceContext=React.useContext(ResourcesContext);var index=context.numberOfchildren;context.numberOfchildren++;useEffect(function(){if(addTab)context.setClickTabIndex(tabsResource.length-1);},[addTab,context,tabsResource.length]);return/*#__PURE__*/_jsxs(\"button\",{className:\"flex w-48 items-center justify-between shadow-sm border p-3 rounded-lg \".concat(context.clickTabIndex===index||addTab?\"bg-gray-200\":\"\"),onClick:function onClick(){context.setClickTabIndex(index);setAddTab(false);},children:[/*#__PURE__*/_jsx(\"span\",{children:children}),/*#__PURE__*/_jsx(\"span\",{className:\"hover:scale-75\",onClick:function onClick(e){e.stopPropagation();if(resourceContext.dataResources.find(function(resource){return resource.id===resourceContext.currentResource;}).tabs.length>1){var newTabs=tabsResource.filter(function(tabElement){return tabElement.id!==tab.id;});var newResources=resourceContext.dataResources.map(function(resource){if(resource.id===resourceContext.currentResource)resource.tabs=newTabs;return resource;});resourceContext.setDataResources(newResources);resourceContext.setTabsResource(newTabs);if(context.clickTabIndex===index){var newIndex=index-1;if(newIndex<0)newIndex=0;context.setClickTabIndex(newIndex);}else context.setClickTabIndex(0);}},children:/*#__PURE__*/_jsx(CloseIcon,{className:\"w-5 h-5 p-1 rounded-full bg-gray-100\"})})]});}export function TabPanels(_ref4){var children=_ref4.children;var context=React.useContext(TabsContext);return/*#__PURE__*/_jsx(_Fragment,{children:children[context.clickTabIndex]});}export function TabPanel(_ref5){var children=_ref5.children;return/*#__PURE__*/_jsx(_Fragment,{children:children});}","map":{"version":3,"names":["React","useEffect","CloseIcon","PlusIcon","ResourcesContext","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","TabsContext","createContext","Tabs","_ref","tabsResource","clickTabIndex","setClickTabIndex","resourceContext","useContext","_React$useState","useState","_React$useState2","_slicedToArray","addTab","setAddTab","Provider","value","numberOfchildren","children","className","TabList","map","tab","index","Tab","length","name","onClick","e","stopPropagation","newResources","dataResources","resource","id","currentResource","tabs","push","linkIframe","setDataResources","localStorage","setItem","JSON","stringify","TabPanels","TabPanel","src","frameborder","title","_ref2","_ref3","context","concat","find","newTabs","filter","tabElement","setTabsResource","newIndex","_ref4","_ref5"],"sources":["/app/src/Components/Tabs.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { CloseIcon, PlusIcon } from \"./Icons\";\r\nimport { ResourcesContext } from \"../App\";\r\n\r\nconst TabsContext = React.createContext();\r\n\r\nexport default function Tabs({\r\n  tabsResource,\r\n  clickTabIndex,\r\n  setClickTabIndex,\r\n}) {\r\n  const resourceContext = React.useContext(ResourcesContext);\r\n  const [addTab, setAddTab] = React.useState(false);\r\n\r\n  return (\r\n    <TabsContext.Provider\r\n      value={{\r\n        numberOfchildren: 0,\r\n        clickTabIndex: clickTabIndex,\r\n        setClickTabIndex: setClickTabIndex,\r\n      }}\r\n    >\r\n      <div className=\" w-full flex flex-col gap-4\">\r\n        <div className=\"flex gap-2 items-center lg:max-w-[47rem]  2xl:max-w-[79rem] overflow-auto\">\r\n          <TabList> \r\n            {tabsResource.map((tab, index) => (\r\n              <Tab\r\n                key={index}\r\n                tabsResource={tabsResource}\r\n                tab={tab}\r\n                addTab={\r\n                  addTab && index === tabsResource.length - 1 ? true : false\r\n                }\r\n                setAddTab={setAddTab}\r\n              >\r\n                {tab.name} <span className=\"font-bold\">0{index + 1}</span>\r\n              </Tab>\r\n            ))}\r\n          </TabList>\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              const newResources = resourceContext.dataResources.map(\r\n                (resource) => {\r\n                  if (resource.id === resourceContext.currentResource)\r\n                    resource.tabs.push({\r\n                      id: resource.tabs.length + 1,\r\n                      name: \"Terminal\",\r\n                      linkIframe: resource.linkIframe,\r\n                    });\r\n                  return resource;\r\n                }\r\n              );\r\n              resourceContext.setDataResources(newResources);\r\n              localStorage.setItem('dataResources', JSON.stringify(newResources));\r\n              setAddTab(true);\r\n            }}\r\n          >\r\n            <PlusIcon className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n        <TabPanels>\r\n          {tabsResource.map((tab, index) => (\r\n            <TabPanel key={index}>\r\n              <div className=\"bg-black rounded-md h-[30rem] text-white p-2\">\r\n                {/* // /c/Users/mustapha --- {tab.linkIframe} ~ */}\r\n              <iframe className=\"h-full w-full\" src={tab.linkIframe} frameborder=\"0\" title=\"6587\"></iframe>\r\n              </div>\r\n            </TabPanel>\r\n          ))}\r\n        </TabPanels>\r\n      </div>\r\n    </TabsContext.Provider>\r\n  );\r\n}\r\n\r\nexport function TabList({ children }) {\r\n  return <div className=\"flex gap-1\">{children}</div>;\r\n}\r\n\r\nfunction Tab({ children, tabsResource, tab, addTab, setAddTab }) {\r\n  const context = React.useContext(TabsContext);\r\n  const resourceContext = React.useContext(ResourcesContext);\r\n  const index = context.numberOfchildren;\r\n  context.numberOfchildren++;\r\n  useEffect(() => {\r\n    if (addTab) context.setClickTabIndex(tabsResource.length - 1);\r\n  }, [addTab,context,tabsResource.length]);\r\n  return (\r\n    <button\r\n      className={`flex w-48 items-center justify-between shadow-sm border p-3 rounded-lg ${\r\n        context.clickTabIndex === index || addTab ? \"bg-gray-200\" : \"\"\r\n      }`}\r\n      onClick={() => {\r\n        context.setClickTabIndex(index);\r\n        setAddTab(false)\r\n      }}\r\n    >\r\n      <span>{children}</span>\r\n      <span\r\n        className=\"hover:scale-75\"\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n\r\n          if (\r\n            resourceContext.dataResources.find(\r\n              (resource) => resource.id === resourceContext.currentResource\r\n            ).tabs.length > 1\r\n          ) {\r\n            const newTabs = tabsResource.filter(\r\n              (tabElement) => tabElement.id !== tab.id\r\n            );\r\n            const newResources = resourceContext.dataResources.map(\r\n              (resource) => {\r\n                if (resource.id === resourceContext.currentResource)\r\n                  resource.tabs = newTabs;\r\n                return resource;\r\n              }\r\n            );\r\n            resourceContext.setDataResources(newResources);\r\n            resourceContext.setTabsResource(newTabs);\r\n\r\n            if (context.clickTabIndex === index) {\r\n              let newIndex = index - 1;\r\n              if (newIndex < 0) newIndex = 0;\r\n              context.setClickTabIndex(newIndex);\r\n            } else context.setClickTabIndex(0);\r\n          }\r\n        }}\r\n      >\r\n        <CloseIcon className=\"w-5 h-5 p-1 rounded-full bg-gray-100\" />\r\n      </span>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport function TabPanels({ children }) {\r\n  const context = React.useContext(TabsContext);\r\n  return <>{children[context.clickTabIndex]}</>;\r\n}\r\n\r\nexport function TabPanel({ children }) {\r\n  return <>{children}</>;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}